<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Personal Finance Hub</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="scripts.js" defer></script>
  </head>
  <body>
    <header class="app-header">
      <div class="app-brand">
        <div class="app-logo">₹</div>
        <div>
          <h1>My Personal Finance Hub</h1>
          <p class="lead">Track net worth, portfolio, and cash flow in one place.</p>
        </div>
      </div>
      <div class="app-header-meta">
        <div class="meta-item">
          <span class="meta-label">Today</span>
          <span id="todayDate" class="meta-value"></span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Currency</span>
          <select id="currencySelect" class="meta-select">
            <option value="INR">INR ₹</option>
            <option value="USD">USD $</option>
            <option value="EUR">EUR €</option>
          </select>
        </div>
      </div>
    </header>

    <div class="app-shell">
      <nav class="app-nav" aria-label="Finance sections">
        <button class="nav-tab active" data-tab="overview">Overview</button>
        <button class="nav-tab" data-tab="networth">Net Worth</button>
        <button class="nav-tab" data-tab="portfolio">Portfolio</button>
        <button class="nav-tab" data-tab="monthly">Monthly Statements</button>
        <button class="nav-tab" data-tab="weekly">Weekly Statements</button>
        <button class="nav-tab" data-tab="settings">Settings</button>
      </nav>

      <main class="app-main">
        <!-- OVERVIEW -->
        <section id="tab-overview" class="tab-panel active" aria-labelledby="Overview">
          <div class="grid grid-3">
            <article class="card stat-card">
              <h2>Total Net Worth</h2>
              <p class="stat-value" id="overviewNetWorth">--</p>
              <p class="stat-sub">Assets minus liabilities</p>
            </article>
            <article class="card stat-card">
              <h2>This Month: Income</h2>
              <p class="stat-value positive" id="overviewIncome">--</p>
              <p class="stat-sub">All income transactions this month</p>
            </article>
            <article class="card stat-card">
              <h2>This Month: Expenses</h2>
              <p class="stat-value negative" id="overviewExpenses">--</p>
              <p class="stat-sub">All expense transactions this month</p>
            </article>
          </div>

          <section class="card quick-add">
            <header class="card-header">
              <h2>Quick Add Transaction</h2>
            </header>
            <form id="quickTransactionForm" class="form-grid">
              <label>
                Date
                <input type="date" id="qtDate" required />
              </label>
              <label>
                Type
                <select id="qtType" required>
                  <option value="income">Income</option>
                  <option value="expense">Expense</option>
                </select>
              </label>
              <label>
                Category
                <input type="text" id="qtCategory" placeholder="Salary, Rent, Groceries" />
              </label>
              <label>
                Description
                <input type="text" id="qtDescription" placeholder="Optional note" />
              </label>
              <label>
                Amount
                <input type="number" id="qtAmount" step="0.01" min="0" required />
              </label>
              <div class="form-actions">
                <button type="submit" class="btn primary">Add Transaction</button>
              </div>
            </form>
          </section>
        </section>

        <!-- NET WORTH -->
        <section id="tab-networth" class="tab-panel" aria-labelledby="Net Worth">
          <div class="card">
            <header class="card-header split">
              <div>
                <h2>Net Worth</h2>
                <p class="muted">Track all your assets and liabilities.</p>
              </div>
              <div class="networth-summary">
                <div>
                  <span class="meta-label">Assets</span>
                  <span id="nwAssets" class="meta-value"></span>
                </div>
                <div>
                  <span class="meta-label">Liabilities</span>
                  <span id="nwLiabilities" class="meta-value"></span>
                </div>
                <div>
                  <span class="meta-label">Net Worth</span>
                  <span id="nwNetWorth" class="meta-value bold"></span>
                </div>
              </div>
            </header>

            <div class="grid grid-2">
              <section>
                <h3>Assets</h3>
                <form id="assetForm" class="form-inline">
                  <input type="text" id="assetName" placeholder="Name (e.g. Savings)" required />
                  <select id="assetCategory">
                    <option value="cash">Cash</option>
                    <option value="investment">Investment</option>
                    <option value="property">Property</option>
                    <option value="other">Other</option>
                  </select>
                  <input type="number" id="assetValue" placeholder="Amount" step="0.01" min="0" required />
                  <button type="submit" class="btn primary">Add</button>
                </form>
                <div class="table-wrapper">
                  <table>
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Category</th>
                        <th class="num">Value</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="assetTableBody"></tbody>
                  </table>
                </div>
              </section>

              <section>
                <h3>Liabilities</h3>
                <form id="liabilityForm" class="form-inline">
                  <input type="text" id="liabilityName" placeholder="Name (e.g. Loan)" required />
                  <select id="liabilityCategory">
                    <option value="loan">Loan</option>
                    <option value="credit">Credit Card</option>
                    <option value="tax">Tax</option>
                    <option value="other">Other</option>
                  </select>
                  <input type="number" id="liabilityValue" placeholder="Amount" step="0.01" min="0" required />
                  <button type="submit" class="btn danger">Add</button>
                </form>
                <div class="table-wrapper">
                  <table>
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Category</th>
                        <th class="num">Value</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="liabilityTableBody"></tbody>
                  </table>
                </div>
              </section>
            </div>
          </div>
        </section>

        <!-- PORTFOLIO -->
        <section id="tab-portfolio" class="tab-panel" aria-labelledby="Portfolio">
          <div class="card">
            <header class="card-header split">
              <div>
                <h2>Investment Portfolio</h2>
                <p class="muted">Maintain your equity, mutual fund, and other holdings.</p>
              </div>
              <div>
                <span class="meta-label">Total Portfolio</span>
                <span id="portfolioTotal" class="meta-value bold"></span>
              </div>
            </header>

            <form id="holdingForm" class="form-grid">
              <label>
                Name / Ticker
                <input type="text" id="holdingName" placeholder="e.g. NIFTYBEES" required />
              </label>
              <label>
                Type
                <select id="holdingType">
                  <option value="stock">Stock</option>
                  <option value="mutual_fund">Mutual Fund</option>
                  <option value="etf">ETF</option>
                  <option value="crypto">Crypto</option>
                  <option value="other">Other</option>
                </select>
              </label>
              <label>
                Units
                <input type="number" id="holdingUnits" step="0.0001" min="0" required />
              </label>
              <label>
                Price per Unit
                <input type="number" id="holdingPrice" step="0.01" min="0" required />
              </label>
              <div class="form-actions">
                <button type="submit" class="btn primary">Add Holding</button>
              </div>
            </form>

            <div class="grid grid-2 gap-large">
              <div class="table-wrapper">
                <table>
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Type</th>
                      <th class="num">Units</th>
                      <th class="num">Price</th>
                      <th class="num">Value</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody id="holdingTableBody"></tbody>
                </table>
              </div>

              <section>
                <h3>Allocation by Type</h3>
                <ul id="allocationList" class="allocation-list"></ul>
              </section>
            </div>
          </div>
        </section>

        <!-- MONTHLY STATEMENTS -->
        <section id="tab-monthly" class="tab-panel" aria-labelledby="Monthly Statements">
          <div class="card">
            <header class="card-header split">
              <div>
                <h2>Monthly Statements</h2>
                <p class="muted">Log income and expenses and review them by month.</p>
              </div>
              <div class="form-inline no-wrap">
                <label>
                  Month
                  <input type="month" id="monthlyFilter" />
                </label>
              </div>
            </header>

            <form id="transactionForm" class="form-grid">
              <label>
                Date
                <input type="date" id="trDate" required />
              </label>
              <label>
                Type
                <select id="trType" required>
                  <option value="income">Income</option>
                  <option value="expense">Expense</option>
                </select>
              </label>
              <label>
                Category
                <input type="text" id="trCategory" placeholder="Groceries, Rent, Salary" />
              </label>
              <label>
                Description
                <input type="text" id="trDescription" placeholder="Optional note" />
              </label>
              <label>
                Amount
                <input type="number" id="trAmount" step="0.01" min="0" required />
              </label>
              <div class="form-actions">
                <button type="submit" class="btn primary">Add Transaction</button>
              </div>
            </form>

            <div class="month-summary">
              <div>
                <span class="meta-label">Income</span>
                <span id="monthIncome" class="meta-value positive"></span>
              </div>
              <div>
                <span class="meta-label">Expenses</span>
                <span id="monthExpenses" class="meta-value negative"></span>
              </div>
              <div>
                <span class="meta-label">Savings</span>
                <span id="monthSavings" class="meta-value"></span>
              </div>
              <div>
                <span class="meta-label">Savings Rate</span>
                <span id="monthSavingsRate" class="meta-value"></span>
              </div>
            </div>

            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Category</th>
                    <th>Description</th>
                    <th class="num">Amount</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="monthlyTableBody"></tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- WEEKLY STATEMENTS -->
        <section id="tab-weekly" class="tab-panel" aria-labelledby="Weekly Statements">
          <div class="card">
            <header class="card-header">
              <h2>Weekly Statements</h2>
              <p class="muted">See how your spending and income look week by week.</p>
            </header>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Week</th>
                    <th class="num">Income</th>
                    <th class="num">Expenses</th>
                    <th class="num">Net</th>
                  </tr>
                </thead>
                <tbody id="weeklyTableBody"></tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- SETTINGS / UTILITIES -->
        <section id="tab-settings" class="tab-panel" aria-labelledby="Settings">
          <div class="grid grid-2">
            <section class="card">
              <header class="card-header">
                <h2>Data Backup</h2>
                <p class="muted">Export or import all your data as a JSON file.</p>
              </header>
              <div class="settings-actions">
                <button id="exportBtn" class="btn secondary">Export Data</button>
                <label class="btn file-btn">
                  Import Data
                  <input type="file" id="importInput" accept="application/json" hidden />
                </label>
              </div>
              <p id="backupStatus" class="muted small"></p>
            </section>

            <section class="card">
              <header class="card-header">
                <h2>Goals (Optional)</h2>
                <p class="muted">Set a target net worth and monthly savings.</p>
              </header>
              <form id="goalsForm" class="form-grid">
                <label>
                  Target Net Worth
                  <input type="number" id="goalNetWorth" step="0.01" min="0" />
                </label>
                <label>
                  Target Monthly Savings
                  <input type="number" id="goalMonthlySavings" step="0.01" min="0" />
                </label>
                <div class="form-actions">
                  <button type="submit" class="btn primary">Save Goals</button>
                </div>
              </form>

              <div class="goal-progress" id="goalProgress"></div>
            </section>
          </div>
        </section>
      </main>
    </div>

    <footer class="app-footer">
      <small>Personal Finance Hub · Data stays in your browser (localStorage).</small>
    </footer>
  </body>
</html>
